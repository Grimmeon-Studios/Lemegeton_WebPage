{"mappings":"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","sources":["src/js/scgallery.js"],"sourcesContent":["console.clear();\r\n\r\nconst { gsap, imagesLoaded } = window;\r\n\t\t\r\n\t\tconst buttons = {\r\n\t\t\tprev: document.querySelector(\".btn--left\"),\r\n\t\t\tnext: document.querySelector(\".btn--right\"),\r\n\t\t};\r\n\t\tconst cardsContainerEl = document.querySelector(\".cards__wrapper\");\r\n\t\tconst appBgContainerEl = document.querySelector(\".app__bg\");\r\n\t\t\r\n\t\tconst cardInfosContainerEl = document.querySelector(\".info__wrapper\");\r\n\t\t\r\n\t\tbuttons.next.addEventListener(\"click\", () => swapCards(\"right\"));\r\n\t\t\r\n\t\tbuttons.prev.addEventListener(\"click\", () => swapCards(\"left\"));\r\n\t\t\r\n\t\tfunction swapCards(direction) {\r\n\t\t\tconst currentCardEl = cardsContainerEl.querySelector(\".current--card\");\r\n\t\t\tconst previousCardEl = cardsContainerEl.querySelector(\".previous--card\");\r\n\t\t\tconst nextCardEl = cardsContainerEl.querySelector(\".next--card\");\r\n\t\t\r\n\t\t\tconst currentBgImageEl = appBgContainerEl.querySelector(\".current--image\");\r\n\t\t\tconst previousBgImageEl = appBgContainerEl.querySelector(\".previous--image\");\r\n\t\t\tconst nextBgImageEl = appBgContainerEl.querySelector(\".next--image\");\r\n\t\t\r\n\t\t\tchangeInfo(direction);\r\n\t\t\tswapCardsClass();\r\n\t\t\r\n\t\t\tremoveCardEvents(currentCardEl);\r\n\t\t\r\n\t\t\tfunction swapCardsClass() {\r\n\t\t\t\tcurrentCardEl.classList.remove(\"current--card\");\r\n\t\t\t\tpreviousCardEl.classList.remove(\"previous--card\");\r\n\t\t\t\tnextCardEl.classList.remove(\"next--card\");\r\n\t\t\r\n\t\t\t\tcurrentBgImageEl.classList.remove(\"current--image\");\r\n\t\t\t\tpreviousBgImageEl.classList.remove(\"previous--image\");\r\n\t\t\t\tnextBgImageEl.classList.remove(\"next--image\");\r\n\t\t\r\n\t\t\t\tcurrentCardEl.style.zIndex = \"50\";\r\n\t\t\t\tcurrentBgImageEl.style.zIndex = \"-2\";\r\n\t\t\r\n\t\t\t\tif (direction === \"right\") {\r\n\t\t\t\t\tpreviousCardEl.style.zIndex = \"20\";\r\n\t\t\t\t\tnextCardEl.style.zIndex = \"30\";\r\n\t\t\r\n\t\t\t\t\tnextBgImageEl.style.zIndex = \"-1\";\r\n\t\t\r\n\t\t\t\t\tcurrentCardEl.classList.add(\"previous--card\");\r\n\t\t\t\t\tpreviousCardEl.classList.add(\"next--card\");\r\n\t\t\t\t\tnextCardEl.classList.add(\"current--card\");\r\n\t\t\r\n\t\t\t\t\tcurrentBgImageEl.classList.add(\"previous--image\");\r\n\t\t\t\t\tpreviousBgImageEl.classList.add(\"next--image\");\r\n\t\t\t\t\tnextBgImageEl.classList.add(\"current--image\");\r\n\t\t\t\t} else if (direction === \"left\") {\r\n\t\t\t\t\tpreviousCardEl.style.zIndex = \"30\";\r\n\t\t\t\t\tnextCardEl.style.zIndex = \"20\";\r\n\t\t\r\n\t\t\t\t\tpreviousBgImageEl.style.zIndex = \"-1\";\r\n\t\t\r\n\t\t\t\t\tcurrentCardEl.classList.add(\"next--card\");\r\n\t\t\t\t\tpreviousCardEl.classList.add(\"current--card\");\r\n\t\t\t\t\tnextCardEl.classList.add(\"previous--card\");\r\n\t\t\r\n\t\t\t\t\tcurrentBgImageEl.classList.add(\"next--image\");\r\n\t\t\t\t\tpreviousBgImageEl.classList.add(\"current--image\");\r\n\t\t\t\t\tnextBgImageEl.classList.add(\"previous--image\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfunction changeInfo(direction) {\r\n\t\t\tlet currentInfoEl = cardInfosContainerEl.querySelector(\".current--info\");\r\n\t\t\tlet previousInfoEl = cardInfosContainerEl.querySelector(\".previous--info\");\r\n\t\t\tlet nextInfoEl = cardInfosContainerEl.querySelector(\".next--info\");\r\n\t\t\r\n\t\t\tgsap.timeline()\r\n\t\t\t\t.to([buttons.prev, buttons.next], {\r\n\t\t\t\tduration: 0.2,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\tpointerEvents: \"none\",\r\n\t\t\t})\r\n\t\t\t\t.to(\r\n\t\t\t\tcurrentInfoEl.querySelectorAll(\".text\"),\r\n\t\t\t\t{\r\n\t\t\t\t\tduration: 0.4,\r\n\t\t\t\t\tstagger: 0.1,\r\n\t\t\t\t\ttranslateY: \"-120px\",\r\n\t\t\t\t\topacity: 0,\r\n\t\t\t\t},\r\n\t\t\t\t\"-=\"\r\n\t\t\t)\r\n\t\t\t\t.call(() => {\r\n\t\t\t\tswapInfosClass(direction);\r\n\t\t\t})\r\n\t\t\t\t.call(() => initCardEvents())\r\n\t\t\t\t.fromTo(\r\n\t\t\t\tdirection === \"right\"\r\n\t\t\t\t? nextInfoEl.querySelectorAll(\".text\")\r\n\t\t\t\t: previousInfoEl.querySelectorAll(\".text\"),\r\n\t\t\t\t{\r\n\t\t\t\t\topacity: 0,\r\n\t\t\t\t\ttranslateY: \"40px\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tduration: 0.4,\r\n\t\t\t\t\tstagger: 0.1,\r\n\t\t\t\t\ttranslateY: \"0px\",\r\n\t\t\t\t\topacity: 1,\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t\t.to([buttons.prev, buttons.next], {\r\n\t\t\t\tduration: 0.2,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\tpointerEvents: \"all\",\r\n\t\t\t});\r\n\t\t\r\n\t\t\tfunction swapInfosClass() {\r\n\t\t\t\tcurrentInfoEl.classList.remove(\"current--info\");\r\n\t\t\t\tpreviousInfoEl.classList.remove(\"previous--info\");\r\n\t\t\t\tnextInfoEl.classList.remove(\"next--info\");\r\n\t\t\r\n\t\t\t\tif (direction === \"right\") {\r\n\t\t\t\t\tcurrentInfoEl.classList.add(\"previous--info\");\r\n\t\t\t\t\tnextInfoEl.classList.add(\"current--info\");\r\n\t\t\t\t\tpreviousInfoEl.classList.add(\"next--info\");\r\n\t\t\t\t} else if (direction === \"left\") {\r\n\t\t\t\t\tcurrentInfoEl.classList.add(\"next--info\");\r\n\t\t\t\t\tnextInfoEl.classList.add(\"previous--info\");\r\n\t\t\t\t\tpreviousInfoEl.classList.add(\"current--info\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfunction updateCard(e) {\r\n\t\t\tconst card = e.currentTarget;\r\n\t\t\tconst box = card.getBoundingClientRect();\r\n\t\t\tconst centerPosition = {\r\n\t\t\t\tx: box.left + box.width / 2,\r\n\t\t\t\ty: box.top + box.height / 2,\r\n\t\t\t};\r\n\t\t\tlet angle = Math.atan2(e.pageX - centerPosition.x, 0) * (35 / Math.PI);\r\n\t\t\tgsap.set(card, {\r\n\t\t\t\t\"--current-card-rotation-offset\": `${angle}deg`,\r\n\t\t\t});\r\n\t\t\tconst currentInfoEl = cardInfosContainerEl.querySelector(\".current--info\");\r\n\t\t\tgsap.set(currentInfoEl, {\r\n\t\t\t\trotateY: `${angle}deg`,\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\tfunction resetCardTransforms(e) {\r\n\t\t\tconst card = e.currentTarget;\r\n\t\t\tconst currentInfoEl = cardInfosContainerEl.querySelector(\".current--info\");\r\n\t\t\tgsap.set(card, {\r\n\t\t\t\t\"--current-card-rotation-offset\": 0,\r\n\t\t\t});\r\n\t\t\tgsap.set(currentInfoEl, {\r\n\t\t\t\trotateY: 0,\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\tfunction initCardEvents() {\r\n\t\t\tconst currentCardEl = cardsContainerEl.querySelector(\".current--card\");\r\n\t\t\tcurrentCardEl.addEventListener(\"pointermove\", updateCard);\r\n\t\t\tcurrentCardEl.addEventListener(\"pointerout\", (e) => {\r\n\t\t\t\tresetCardTransforms(e);\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\tinitCardEvents();\r\n\t\t\r\n\t\tfunction removeCardEvents(card) {\r\n\t\t\tcard.removeEventListener(\"pointermove\", updateCard);\r\n\t\t}\r\n\t\t\r\n\t\tfunction init() {\r\n\t\t\r\n\t\t\tlet tl = gsap.timeline();\r\n\t\t\r\n\t\t\ttl.to(cardsContainerEl.children, {\r\n\t\t\t\tdelay: 0.15,\r\n\t\t\t\tduration: 0.5,\r\n\t\t\t\tstagger: {\r\n\t\t\t\t\tease: \"power4.inOut\",\r\n\t\t\t\t\tfrom: \"right\",\r\n\t\t\t\t\tamount: 0.1,\r\n\t\t\t\t},\r\n\t\t\t\t\"--card-translateY-offset\": \"0%\",\r\n\t\t\t})\r\n\t\t\t\t.to(cardInfosContainerEl.querySelector(\".current--info\").querySelectorAll(\".text\"), {\r\n\t\t\t\tdelay: 0.5,\r\n\t\t\t\tduration: 0.4,\r\n\t\t\t\tstagger: 0.1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t\ttranslateY: 0,\r\n\t\t\t})\r\n\t\t\t\t.to(\r\n\t\t\t\t[buttons.prev, buttons.next],\r\n\t\t\t\t{\r\n\t\t\t\t\tduration: 0.4,\r\n\t\t\t\t\topacity: 1,\r\n\t\t\t\t\tpointerEvents: \"all\",\r\n\t\t\t\t},\r\n\t\t\t\t\"-=0.4\"\r\n\t\t\t);\r\n\t\t}\r\n\t\t\r\n\t\tconst waitForImages = () => {\r\n\t\t\tconst images = [...document.querySelectorAll(\"img\")];\r\n\t\t\tconst totalImages = images.length;\r\n\t\t\tlet loadedImages = 0;\r\n\t\t\tconst loaderEl = document.querySelector(\".loader span\");\r\n\t\t\r\n\t\t\tgsap.set(cardsContainerEl.children, {\r\n\t\t\t\t\"--card-translateY-offset\": \"100vh\",\r\n\t\t\t});\r\n\t\t\tgsap.set(cardInfosContainerEl.querySelector(\".current--info\").querySelectorAll(\".text\"), {\r\n\t\t\t\ttranslateY: \"40px\",\r\n\t\t\t\topacity: 0,\r\n\t\t\t});\r\n\t\t\tgsap.set([buttons.prev, buttons.next], {\r\n\t\t\t\tpointerEvents: \"none\",\r\n\t\t\t\topacity: \"0\",\r\n\t\t\t});\r\n\t\t\r\n\t\t\timages.forEach((image) => {\r\n\t\t\t\timagesLoaded(image, (instance) => {\r\n\t\t\t\t\tif (instance.isComplete) {\r\n\t\t\t\t\t\tloadedImages++;\r\n\t\t\t\t\t\tlet loadProgress = loadedImages / totalImages;\r\n\t\t\r\n\t\t\t\t\t\tgsap.to(loaderEl, {\r\n\t\t\t\t\t\t\tduration: 1,\r\n\t\t\t\t\t\t\tscaleX: loadProgress,\r\n\t\t\t\t\t\t\tbackgroundColor: `hsl(${loadProgress * 120}, 100%, 50%`,\r\n\t\t\t\t\t\t});\r\n\t\t\r\n\t\t\t\t\t\tif (totalImages == loadedImages) {\r\n\t\t\t\t\t\t\tgsap.timeline()\r\n\t\t\t\t\t\t\t\t.to(\".loading__wrapper\", {\r\n\t\t\t\t\t\t\t\tduration: 0.8,\r\n\t\t\t\t\t\t\t\topacity: 0,\r\n\t\t\t\t\t\t\t\tpointerEvents: \"none\",\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.call(() => init());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t};\r\n\t\t\r\n\t\twaitForImages();\r\n\t\t\r\n"],"names":[],"version":3,"file":"gallery.0ad12cdf.js.map","sourceRoot":"/__parcel_source_root/"}